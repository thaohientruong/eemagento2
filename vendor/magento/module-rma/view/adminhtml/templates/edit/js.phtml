<?php
/**
 * Copyright Â© 2016 Magento. All rights reserved.
 * See COPYING.txt for license details.
 */
?>
<?php
/** @var Magento\Rma\Block\Adminhtml\Rma\Edit\Js $block */
?>
<script>
//<![CDATA[
require(['prototype', 'Magento_Rma/rma', 'domReady!'], function() {
    rma.setLoadAttributesUrl('<?php /* @escapeNotVerified */ echo $block->getLoadAttributesUrl() ?>');
    rma.setLoadSplitLineUrl('<?php /* @escapeNotVerified */ echo $block->getLoadSplitLineUrl() ?>');
    rma.setDeleteLineLabel('<?php /* @escapeNotVerified */ echo __('Delete Line') ?>');
    $$('a.item_details').each(function (obj) {
        obj.observe('click', rma.itemDetailsRowClick.bind(rma))
    });
    $$('a.item_split_line').each(function (obj) {
        obj.observe('click', rma.itemSplitLineRowClick.bind(rma))
    });
    $$('a.item_reason_other').each(function (obj) {
        obj.observe('click', rma.itemReasonOtherRowClick.bind(rma))
    });
    rma.setFormKey('<?php /* @escapeNotVerified */ echo $block->getFormKey(); ?>');
    rma.setLoadShippingMethodsUrl('<?php /* @escapeNotVerified */ echo $block->getLoadShippingMethodsUrl() ?>');
    rma.setLoadPslUrl('<?php /* @escapeNotVerified */ echo $block->getLoadPslUrl() ?>');
    if ($('get-shipping-method-and-rates')) {
        $('get-shipping-method-and-rates').observe('click', rma.showShippingMethods.bind(rma));
    }
    $$('input.rowId').each(function (el, val) {
        rma.getAjaxData($(el).value, true);
    });
    rma.callLoadProductsCallback();
});
//]]>
</script>
